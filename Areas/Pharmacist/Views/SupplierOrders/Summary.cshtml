@model PharmacyInventorySystem.Models.SupplierOrder

@{
    ViewData["Title"] = "Order Summary";
    
    Layout = "~/Views/Shared/_Layout.cshtml";

}

<h2>Order Summary - Order #@Model.SupplierOrderID</h2>

<p><strong>Supplier:</strong> @Model.Supplier?.SupplierName</p>
<p><strong>Date:</strong> @Model.SignOrderDate.ToShortDateString()</p>
<p><strong>Total Amount:</strong> @Model.TotalAmount.ToString("C")</p>

<h4>Products:</h4>
<div class="card shadow-sm border-0 mb-5">
    <div class="card-body bg-white">
        <h4 class="text-primary mb-4">📑 Order Summary - #@Model.SupplierOrderID</h4>

        <p><strong>Supplier:</strong> @Model.Supplier?.SupplierName</p>
        <p><strong>Date:</strong> @Model.SignOrderDate.ToShortDateString()</p>
        <p><strong>Total Amount:</strong> <span class="text-success">@Model.TotalAmount.ToString("C")</span></p>

        <hr />

        <h5>🧾 Products in Order</h5>
        <table class="table table-striped table-bordered table-sm">
            <thead class="table-light">
                <tr>
                    <th>Product</th>
                    <th>Category</th>
                    <th>Expiry</th>
                    <th>Quantity</th>
                    <th>Selling Price</th>
                    <th>Buying Price</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var detail in Model.SupplierOrderDetails)
                {
                    <tr>
                        <td>@detail.Product.ProductName</td>
                        <td>@detail.Product.Category?.CategoryName</td>
                        <td>@detail.Product.ExDate.ToShortDateString()</td>
                        <td>@detail.Quantity</td>
                        <td>@detail.SUnitPrice.ToString("C")</td>
                        <td>@detail.BUnitPrice.ToString("C")</td>
                    </tr>
                }
            </tbody>
        </table>

        <a class="btn btn-outline-secondary mt-3"
           href="/Pharmacist/SupplierOrders/PrintPdf/@Model.SupplierOrderID"
           download>
            <i class="bi bi-download me-1"></i> Download PDF
        </a>
    </div>
</div>


